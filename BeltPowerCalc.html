<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DTII çš®å¸¦æœºé€‰å‹è®¡ç®—å™¨</title>
    <style>
        /* ç®€å•çš„å†…åµŒ CSSï¼Œç¡®ä¿æ— éœ€è”ç½‘åŠ è½½æ ·å¼åº“ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }
        .container {
            background-color: white;
            width: 100%;
            max-width: 500px;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
            font-size: 20px;
            color: #0056b3;
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            font-size: 14px;
        }
        select, input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px; /* é˜²æ­¢æ‰‹æœºç¼©æ”¾ */
            box-sizing: border-box; /* ç¡®ä¿paddingä¸æ’‘å¤§å®½åº¦ */
        }
        .btn-calc {
            width: 100%;
            padding: 12px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.2s;
        }
        .btn-calc:active {
            background-color: #004494;
        }
        .result-box {
            background-color: #e7f1ff;
            border-left: 5px solid #0056b3;
            padding: 15px;
            margin-top: 25px;
            border-radius: 4px;
            display: none; /* é»˜è®¤éšè— */
        }
        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        .result-item.highlight {
            font-weight: bold;
            color: #d9534f;
            font-size: 18px;
            margin-top: 10px;
            border-top: 1px solid #cbdbf1;
            padding-top: 10px;
        }
        .footer {
            margin-top: 20px;
            text-align: center;
            font-size: 12px;
            color: #888;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ­ DTII(A) ç®€æ˜“è®¡ç®—å™¨</h1>

    <div class="form-group">
        <label>å¸¦å®½ B (mm)</label>
        <select id="width">
            <option value="500">500</option>
            <option value="650">650</option>
            <option value="800">800</option>
            <option value="1000" selected>1000</option>
            <option value="1200">1200</option>
            <option value="1400">1400</option>
            <option value="1600">1600</option>
            <option value="1800">1800</option>
            <option value="2000">2000</option>
        </select>
    </div>

    <div class="form-group">
        <label>è®¾è®¡è¾“é€é‡ Q (t/h)</label>
        <input type="number" id="capacity" value="500" placeholder="ä¾‹å¦‚: 500">
    </div>

    <div class="form-group">
        <label>å¸¦é€Ÿ v (m/s)</label>
        <input type="number" id="speed" value="2.0" step="0.1" placeholder="ä¾‹å¦‚: 1.6 æˆ– 2.0">
    </div>

    <div class="form-group">
        <label>æ°´å¹³é•¿åº¦ L (m)</label>
        <input type="number" id="length" value="100" placeholder="æœºå¤´åˆ°æœºå°¾æ°´å¹³è·ç¦»">
    </div>

    <div class="form-group">
        <label>æå‡é«˜åº¦ H (m)</label>
        <input type="number" id="height" value="10" placeholder="æ­£å€¼ä¸ºä¸Šè¿ï¼Œè´Ÿå€¼ä¸ºä¸‹è¿">
    </div>

    <button class="btn-calc" onclick="calculate()">å¼€å§‹è®¡ç®— (Calculate)</button>

    <div class="result-box" id="resultArea">
        <div class="result-item">
            <span>è½´åŠŸç‡ (Axis Power):</span>
            <span id="pAxis">0 kW</span>
        </div>
        <div class="result-item">
            <span>ç‰©æ–™çº¿è´Ÿè· (Load):</span>
            <span id="qLoad">0 kg/m</span>
        </div>
        <div class="result-item">
            <span>åœ†å‘¨é©±åŠ¨åŠ› (Force):</span>
            <span id="fTotal">0 kN</span>
        </div>
        
        <div class="result-item highlight">
            <span>æ¨èç”µæœºåŠŸç‡:</span>
            <span id="pMotor">0 kW</span>
        </div>
    </div>
    
    <div class="footer">
        é€‚ç”¨äºæ–¹æ¡ˆä¼°ç®— | Based on DTII Standard
    </div>
</div>

<script>
    function calculate() {
        // 1. è·å–è¾“å…¥
        let B = parseFloat(document.getElementById('width').value);
        let Q = parseFloat(document.getElementById('capacity').value);
        let v = parseFloat(document.getElementById('speed').value);
        let L = parseFloat(document.getElementById('length').value);
        let H = parseFloat(document.getElementById('height').value);

        // ç®€å•æ ¡éªŒ
        if(isNaN(Q) || isNaN(v) || isNaN(L) || isNaN(H)) {
            alert("è¯·è¾“å…¥å®Œæ•´çš„æ•°å€¼ï¼");
            return;
        }

        // 2. åŸºç¡€å‚æ•°å®šä¹‰
        let g = 9.81;
        let f = 0.025; // æ¨¡æ‹Ÿæ‘©æ“¦ç³»æ•° (ç»¼åˆå–å€¼)
        let eta = 0.9; // ä¼ åŠ¨æ•ˆç‡
        let k_safe = 1.15; // ç”µæœºå¤‡ç”¨ç³»æ•°

        // 3. ä¼°ç®—æ—‹è½¬é›¶ä»¶åŠèƒ¶å¸¦æ¯ç±³è´¨é‡ qG (kg/m) - DTII ç»éªŒå€¼
        // ä½¿ç”¨ç®€å•çš„ map æ˜ å°„ï¼Œå®é™…è®¾è®¡åº”æŸ¥è¡¨
        let qG_map = {
            500: 20, 650: 30, 800: 45, 1000: 60, 
            1200: 80, 1400: 100, 1600: 120, 1800: 150, 2000: 180
        };
        let qG = qG_map[B] || (B * 0.08);

        // 4. è®¡ç®—ç‰©æ–™æ¯ç±³è´¨é‡ qm
        let qm = Q / (3.6 * v);

        // 5. é•¿åº¦ç³»æ•° C
        let C = 1.0;
        if (L <= 80) C = 1.9;
        else if (L <= 200) C = 1.5;
        else if (L <= 500) C = 1.2;
        else C = 1.05;

        // 6. åœ†å‘¨é©±åŠ¨åŠ›è®¡ç®— F (N)
        // è¿è¡Œé˜»åŠ›
        let F_res = C * f * L * g * (qm + qG);
        // æå‡é˜»åŠ›
        let F_lift = qm * g * H;
        
        let F_total = F_res + F_lift;
        
        // 7. è½´åŠŸç‡ P (kW)
        let P_axis = (F_total * v) / 1000;
        if (P_axis < 0) P_axis = 0; // é˜²æ­¢ä¸‹è¿å‘ç”µçŠ¶æ€æ˜¾ç¤ºè´Ÿå€¼ï¼ˆæ­¤å¤„ä»…åšé©±åŠ¨åŠŸç‡è®¡ç®—ï¼‰

        // 8. ç”µæœºåŠŸç‡ P_M
        let P_motor_req = (P_axis / eta) * k_safe;

        // 9. åŒ¹é…æ ‡å‡†ç”µæœºç³»åˆ—
        let motor_series = [1.5, 2.2, 3, 4, 5.5, 7.5, 11, 15, 18.5, 22, 30, 37, 45, 55, 75, 90, 110, 132, 160, 185, 200, 220, 250, 280, 315, 355, 400];
        let selected_motor = "éœ€å®šåˆ¶ (>400)";
        
        for (let m of motor_series) {
            if (m >= P_motor_req) {
                selected_motor = m + " kW";
                break;
            }
        }

        // 10. æ˜¾ç¤ºç»“æœ
        document.getElementById('resultArea').style.display = "block";
        document.getElementById('pAxis').innerText = P_axis.toFixed(2) + " kW";
        document.getElementById('qLoad').innerText = qm.toFixed(1) + " kg/m";
        document.getElementById('fTotal').innerText = (F_total/1000).toFixed(2) + " kN";
        document.getElementById('pMotor').innerText = selected_motor;
    }
</script>

</body>
</html>